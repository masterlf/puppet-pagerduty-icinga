define contact {
       contact_name                             pagerduty
       alias                                    PagerDuty Pseudo-Contact
       contactgroups                            admins
       service_notifications_enabled            1
       can_submit_commands                      1
       service_notification_period              <%= @service_notification_period %>
       host_notification_period                 <%= @host_notification_period %>
       service_notification_options             <%= @service_notification_options %>
       host_notification_options                <%= @host_notification_options %>
       service_notification_commands            notify-service-by-pagerduty
       host_notification_commands               notify-host-by-pagerduty
       pager                                    <%= @servicekey %>
}

define command {
       command_name     notify-service-by-pagerduty
       command_line     /usr/local/bin/pagerduty_icinga.pl enqueue -f pd_nagios_object=service
}

define command {
       command_name     notify-host-by-pagerduty
       command_line     /usr/local/bin/pagerduty_icinga.pl enqueue -f pd_nagios_object=host
}
